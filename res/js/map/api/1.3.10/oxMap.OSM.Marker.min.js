"use strict";window.Marker=function(d){var d=oxMap.data,e,c,b,h,f,a=null,g=null,i=[],j=oxMap.OSM.Marker;j.setMarkerByCategory=function(o){for(var n in o){g=o[n];if(!g.data){continue}e=new OpenLayers.Layer.Markers(n);if(g.icon){h=oxMap.OSM.Util.createIcon(g.icon)}for(var m in g.data){var l=g.data[m],k=h.clone();b=oxMap.OSM.LonLat(l.coors);c=new OpenLayers.Marker(b,k);c.name=m;c.category=n;if(l.url){if(l.target){c.urlTarget=l.target}c.goToUrl=l.url;i.push(c)}k.imageDiv.getElementsByTagName("img")[0].setAttribute("class","oxMap-tooltip-icon");k.imageDiv.setAttribute("class","oxMap-tooltip");k.imageDiv.setAttribute("data-catID",n);k.imageDiv.setAttribute("data-name",m);e.addMarker(c)}oxMap.OSM.markerList.push(e)}oxMap.OSM.map.addLayers(oxMap.OSM.markerList);if(i.length>0){j.setSpecialUrl(i)}};j.setSpecialUrl=function(p){var o=document.createElement("a"),k,r,q;o.setAttribute("class","oxMap-markerLink");function l(n){var m=n.icon.imageDiv.getElementsByTagName("img")[0];n.icon.imageDiv.innerHTMl="";q=o.cloneNode(true);q.setAttribute("href",n.goToUrl);if(n.urlTarget){q.setAttribute("target",n.urlTarget)}q.appendChild(m);n.icon.imageDiv.appendChild(q)}if(p.length){for(r=0,k=p.length;r<k;r+=1){l(p[r])}}else{l(p)}return true};j.setup=(function(){oxMap.OSM.markerList=[];OpenLayers.Marker.prototype.name="";OpenLayers.Marker.prototype.category="";OpenLayers.Marker.prototype.goToUrl=null;OpenLayers.Marker.prototype.urlTarget=null;j.setMarkerByCategory(d)})()};