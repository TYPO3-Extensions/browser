"use strict";window.Tooltip=function(e){var h=null,g=null,b,c,d,j=oxMap.OSM.configuration.size,a=oxMap.OSM.configuration.mapMarkerEvent,i=oxMap.OSM.Tooltip;function f(l,m,o,n,p){var k=l+p+o;return(k<j[n]?m+p:m-o)+"px"}i.show=function(k,o,q,p){var s=document.createElement("div"),m=o.parentNode,l=o.getAttribute("data-name"),r=o.getAttribute("data-catID"),n=oxMap.data[r]["data"][l];s.setAttribute("class","oxTextLayer");h=oxMap.OSM.tt;if(h){h.parentNode.removeChild(h);oxMap.OSM.tt=h=null;g.style.zIndex=g.getAttribute("data-z");if(k.type==="mouseout"||g.id==m.id){return true}return true}if(n.desc){oxMap.OSM.tt=h=s;g=m;s.innerHTML=n.desc;s.style.visibility="hidden";m.setAttribute("data-z",m.style.zIndex);m.style.zIndex=100000;m.appendChild(s);s.style.left=f(p.x,q.x,s.offsetWidth,"w",q.offsetX);s.style.top=f(p.y,q.y,s.offsetHeight,"h",q.offsetY);s.style.visibility="visible"}};i.setup=(function(){if(!a){new Error("event",null,oxMap.cfg.error);a="click"}c=oxMap.Utils.getEvent(a).split(/\s/);b=c[0];if(b==="click"){d=oxMap.OSM.map.div.getElementsByTagName("a");for(var l=0,k=d.length;l<k;l+=1){var m=d[l].getAttribute("class");if(m){if(m.match(/oxMap-markerLink/)){d[l].removeAttribute("href")}}}}for(var l=0,k=c.length;l<k;l+=1){oxMap.OSM.map.events.register(c[l],oxMap.OSM.map,function(n){n=n||window.event;var q=n.target||n.srcElement,o=q.parentNode,p=o.getAttribute("class");if(p&&!p.match(/oxMap-tooltip/)){o=o.parentNode}if(q.nodeName.toUpperCase()==="IMG"&&q.getAttribute("class").match(/oxMap-tooltip-icon/)){i.show(n,o,{x:o.offsetLeft,y:o.offsetTop,offsetX:q.offsetWidth,offsetY:q.offsetHeight},this.events.getMousePosition(n))}else{return false}})}})()};